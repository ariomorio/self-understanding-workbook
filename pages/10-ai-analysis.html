<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIè‡ªå·±åˆ†æ | ãƒã‚¤ã‚³ãƒ³ãƒ‘ã‚¹</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .ai-header {
      background: linear-gradient(135deg, #673ab7, #9c27b0);
      padding: var(--spacing-lg);
      border-radius: var(--radius-lg);
      text-align: center;
      color: var(--white);
      margin-bottom: var(--spacing-lg);
    }
    .ai-header .emoji { font-size: 3rem; margin-bottom: var(--spacing-sm); }
    .data-summary {
      background: var(--white);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      box-shadow: var(--shadow-sm);
    }
    .data-summary h3 {
      color: var(--primary-brown);
      margin-bottom: var(--spacing-sm);
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }
    .data-item {
      display: flex;
      justify-content: space-between;
      padding: var(--spacing-xs) 0;
      border-bottom: 1px solid #eee;
    }
    .data-item:last-child { border-bottom: none; }
    .data-item .label { color: var(--text-light); }
    .data-item .value { font-weight: bold; }
    .data-item .value.complete { color: var(--primary-green); }
    .data-item .value.incomplete { color: var(--gray); }

    /* ã‚¹ãƒ†ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰ */
    .step-card {
      background: var(--white);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      margin-bottom: var(--spacing-md);
      box-shadow: var(--shadow-sm);
      border-left: 4px solid #673ab7;
    }
    .step-card .step-num {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px; height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, #673ab7, #9c27b0);
      color: white;
      font-weight: bold;
      font-size: 0.9rem;
      margin-right: 8px;
      flex-shrink: 0;
    }
    .step-card h3 {
      display: flex;
      align-items: center;
      color: #673ab7;
      margin-bottom: var(--spacing-sm);
    }
    .step-card p {
      color: var(--text-light);
      font-size: 0.95rem;
      line-height: 1.7;
      margin-bottom: var(--spacing-sm);
    }

    /* å…¨å‡ºã—ãƒœã‚¿ãƒ³ */
    .export-all-btn {
      display: block;
      width: 100%;
      background: linear-gradient(135deg, #673ab7, #9c27b0);
      color: var(--white);
      padding: var(--spacing-md);
      border: none;
      border-radius: var(--radius-md);
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .export-all-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    /* å‡ºåŠ›ãƒœãƒƒã‚¯ã‚¹ */
    .output-box {
      background: #f5f5f5;
      padding: var(--spacing-md);
      border-radius: var(--radius-sm);
      margin-top: var(--spacing-md);
      position: relative;
      display: none;
    }
    .output-box.show { display: block; }
    .output-box pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 0.85rem;
      max-height: 400px;
      overflow-y: auto;
      line-height: 1.6;
    }
    .copy-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      background: linear-gradient(135deg, #ff9800, #ffc107);
      color: var(--white);
      border: none;
      padding: 8px 16px;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: bold;
    }
    .copy-btn:active { transform: scale(0.95); }

    /* ãŠã•ã‚‹AIãƒªãƒ³ã‚¯ */
    .osaru-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: var(--spacing-md);
      background: linear-gradient(135deg, #fff3e0, #ffe0b2);
      border-radius: var(--radius-md);
      text-decoration: none;
      color: var(--primary-brown);
      margin-top: var(--spacing-sm);
      transition: transform 0.2s;
    }
    .osaru-link:hover { transform: translateY(-2px); }
    .osaru-link .osaru-icon { font-size: 2rem; }
    .osaru-link .osaru-text { font-weight: bold; }
    .osaru-link .osaru-sub { font-size: 0.85rem; color: var(--text-light); }

    /* äººç”Ÿèª¬æ˜æ›¸ãƒªãƒ³ã‚¯ */
    .manual-link {
      display: block;
      text-align: center;
      padding: var(--spacing-md);
      background: linear-gradient(135deg, #4caf50, #81c784);
      color: white;
      border-radius: var(--radius-md);
      text-decoration: none;
      font-weight: bold;
      font-size: 1.05rem;
      margin-top: var(--spacing-sm);
      transition: transform 0.2s;
    }
    .manual-link:hover { transform: translateY(-2px); }

    /* ã‚³ãƒ”ãƒ¼æ¸ˆã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
    .copied-msg {
      display: none;
      text-align: center;
      padding: 8px;
      background: #e8f5e9;
      color: #2e7d32;
      border-radius: var(--radius-sm);
      font-weight: bold;
      margin-top: 8px;
    }
    .copied-msg.show { display: block; }
  </style>
</head>
<body>
  <header class="page-header" style="background: linear-gradient(135deg, #673ab7, #9c27b0);">
    <h1><span class="icon">ğŸµ</span> AIè‡ªå·±åˆ†æ</h1>
  </header>

  <div class="container">
    <div class="ai-header">
      <div class="emoji">ğŸµ</div>
      <h2>ãŠã•ã‚‹AIã§äººç”Ÿã®èª¬æ˜æ›¸ã‚’ä½œã‚ã†</h2>
      <p>ã“ã‚Œã¾ã§ã®ãƒ¯ãƒ¼ã‚¯å†…å®¹ã‚’ãŠã•ã‚‹AIã«æ¸¡ã—ã¦<br>ã‚ãªãŸã ã‘ã®ã€Œäººç”Ÿã®èª¬æ˜æ›¸ã€ã‚’å®Œæˆã•ã›ã¾ã—ã‚‡ã†</p>
    </div>

    <!-- ãƒ‡ãƒ¼ã‚¿çŠ¶æ³ -->
    <div class="data-summary">
      <h3>ğŸ“Š å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®çŠ¶æ³</h3>
      <div class="data-item">
        <span class="label">æ€§æ ¼è¨ºæ–­</span>
        <span class="value" id="status-personality">æœªå…¥åŠ›</span>
      </div>
      <div class="data-item">
        <span class="label">ä¾¡å€¤è¦³ãƒ¯ãƒ¼ã‚¯</span>
        <span class="value" id="status-values">æœªå…¥åŠ›</span>
      </div>
      <div class="data-item">
        <span class="label">æ‰èƒ½ãƒ¯ãƒ¼ã‚¯</span>
        <span class="value" id="status-talent">æœªå…¥åŠ›</span>
      </div>
      <div class="data-item">
        <span class="label">æƒ…ç†±ãƒ¯ãƒ¼ã‚¯</span>
        <span class="value" id="status-passion">æœªå…¥åŠ›</span>
      </div>
      <div class="data-item">
        <span class="label">ä½¿å‘½ãƒ»åˆ¤æ–­è»¸ãƒ¯ãƒ¼ã‚¯</span>
        <span class="value" id="status-mission">æœªå…¥åŠ›</span>
      </div>
      <div class="data-item">
        <span class="label">ãªã‚ŠãŸã„è‡ªåˆ†ãƒ¯ãƒ¼ã‚¯</span>
        <span class="value" id="status-become">æœªå…¥åŠ›</span>
      </div>
    </div>

    <!-- STEP 1 -->
    <div class="step-card">
      <h3><span class="step-num">1</span> å…¥åŠ›å†…å®¹ã‚’å…¨å‡ºã—ã™ã‚‹</h3>
      <p>ã“ã‚Œã¾ã§ã®ãƒ¯ãƒ¼ã‚¯ã§å…¥åŠ›ã—ãŸå†…å®¹ã‚’ã™ã¹ã¦ãƒ†ã‚­ã‚¹ãƒˆã«ã¾ã¨ã‚ã¾ã™ã€‚<br>ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€è¡¨ç¤ºã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚</p>
      <button class="export-all-btn" onclick="exportAllData()">
        ğŸ“‹ å…¥åŠ›å†…å®¹ã‚’å…¨å‡ºã—
      </button>
      <div class="output-box" id="outputBox">
        <button class="copy-btn" onclick="copyOutput()">ã‚³ãƒ”ãƒ¼</button>
        <pre id="outputText"></pre>
      </div>
      <div class="copied-msg" id="copiedMsg">âœ… ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸é€²ã¿ã¾ã—ã‚‡ã†</div>
    </div>

    <!-- STEP 2 -->
    <div class="step-card">
      <h3><span class="step-num">2</span> ãŠã•ã‚‹AIã«è²¼ã‚Šä»˜ã‘ã¦åˆ†æ</h3>
      <p>ã‚³ãƒ”ãƒ¼ã—ãŸå†…å®¹ã‚’ãŠã•ã‚‹AIã«è²¼ã‚Šä»˜ã‘ã¦ã€<br>ã€Œã“ã‚Œã‚’ã‚‚ã¨ã«äººç”Ÿã®èª¬æ˜æ›¸ã‚’ä½œã£ã¦ãã ã•ã„ã€ã¨ä¼ãˆã¾ã—ã‚‡ã†ã€‚</p>
      <div style="background:#f3e5f5; padding:12px; border-radius:8px; font-size:0.9rem; margin-bottom:var(--spacing-sm);">
        ğŸ’¡ <strong>ãƒ’ãƒ³ãƒˆ</strong>ï¼šãŠã•ã‚‹AIã«ä»¥ä¸‹ã®ã‚ˆã†ã«ä¼ãˆã‚‹ã¨åŠ¹æœçš„ã§ã™<br><br>
        ã€Œä¸Šè¨˜ã®ãƒ¯ãƒ¼ã‚¯çµæœã‚’ã‚‚ã¨ã«ã€13é …ç›®ã®äººç”Ÿã®èª¬æ˜æ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åŸ‹ã‚ã¦ãã ã•ã„ã€‚æœ€å¾Œã«YOUã¨ã¯ï¼Ÿã®ã¾ã¨ã‚ã‚‚ä½œã£ã¦ãã ã•ã„ã€
      </div>
      <a href="01-osaru-ai.html" class="osaru-link">
        <div class="osaru-icon">ğŸµ</div>
        <div>
          <div class="osaru-text">ãŠã•ã‚‹AIã‚’é–‹ã</div>
          <div class="osaru-sub">ãƒ¯ãƒ¼ã‚¯çµæœã‚’è²¼ã‚Šä»˜ã‘ã¦åˆ†æã—ã¦ã‚‚ã‚‰ãŠã†</div>
        </div>
      </a>
    </div>

    <!-- STEP 3 -->
    <div class="step-card">
      <h3><span class="step-num">3</span> äººç”Ÿã®èª¬æ˜æ›¸ã«åæ˜ ã™ã‚‹</h3>
      <p>ãŠã•ã‚‹AIãŒä½œã£ã¦ãã‚ŒãŸçµæœã‚’<br>ã€Œäººç”Ÿã®èª¬æ˜æ›¸ã€ãƒšãƒ¼ã‚¸ã«è²¼ã‚Šä»˜ã‘ã¦ä¿å­˜ã—ã¾ã—ã‚‡ã†ã€‚</p>
      <p>ä¿å­˜ã™ã‚‹ã¨ã€ãƒã‚¤ã‚³ãƒ³ãƒ‘ã‚¹ã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‹ã‚‰<br>ç¾ã—ã„ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã§é–²è¦§ãƒ»å£ç´™ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
      <a href="09-life-manual.html" class="manual-link">
        ğŸŒ± äººç”Ÿã®èª¬æ˜æ›¸ãƒšãƒ¼ã‚¸ã¸
      </a>
    </div>
  </div>

  <nav class="nav-bottom">
    <a href="09-life-manual.html" class="btn btn-secondary">â† å‰ã¸</a>
    <a href="../index.html" class="btn btn-primary">ç›®æ¬¡ã¸æˆ»ã‚‹</a>
  </nav>
  <div class="toast" id="toast"></div>

  <script>
    // ãƒ‡ãƒ¼ã‚¿çŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯
    function checkDataStatus() {
      var pages = ['personality', 'values', 'talent', 'passion', 'mission', 'become'];
      pages.forEach(function(page) {
        var data = localStorage.getItem('selfUnderstanding_' + page);
        var statusEl = document.getElementById('status-' + page);
        if (statusEl) {
          if (data) {
            statusEl.textContent = '\u2705 å…¥åŠ›æ¸ˆã¿';
            statusEl.classList.add('complete');
          } else {
            statusEl.textContent = '\u274C æœªå…¥åŠ›';
            statusEl.classList.add('incomplete');
          }
        }
      });
    }

    // å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ã§å‡ºåŠ›
    function exportAllData() {
      var userName = localStorage.getItem('selfUnderstanding_userName') || 'åŒ¿å';
      var output = '';
      var hasAnyData = false;

      output += '========================================\n';
      output += userName + ' ã•ã‚“ã®è‡ªå·±ç†è§£ãƒ¯ãƒ¼ã‚¯çµæœ\n';
      output += '========================================\n\n';

      // æ€§æ ¼è¨ºæ–­
      var personality = getStoredData('personality');
      if (personality) {
        hasAnyData = true;
        output += 'ã€æ€§æ ¼è¨ºæ–­çµæœã€‘\n';
        output += 'ã‚¿ã‚¤ãƒ—: ' + (personality.resultType || 'æœªè¨ºæ–­') + '\n';
        if (personality.scores) {
          output += 'ã†ã•ãï¼ˆçŸ­æœŸé›†ä¸­å‹ï¼‰: ' + (personality.scores.usagi || 0) + 'ç‚¹\n';
          output += 'ã‹ã‚ï¼ˆé•·æœŸåˆ†æ•£å‹ï¼‰: ' + (personality.scores.kame || 0) + 'ç‚¹\n';
          output += 'ã‚­ãƒªã‚®ãƒªã‚¹ï¼ˆå¿«æ¥½è¿½æ±‚å‹ï¼‰: ' + (personality.scores.kirigirisu || 0) + 'ç‚¹\n';
          output += 'ã‚¢ãƒªï¼ˆãƒªã‚¹ã‚¯å›é¿å‹ï¼‰: ' + (personality.scores.ari || 0) + 'ç‚¹\n';
        }
        output += '\n';
      }

      // ä¾¡å€¤è¦³ãƒ¯ãƒ¼ã‚¯
      var values = getStoredData('values');
      if (values) {
        hasAnyData = true;
        output += 'ã€ä¾¡å€¤è¦³ãƒ¯ãƒ¼ã‚¯ã€‘\n';
        if (values.q1) output += 'æº€ãŸã•ã‚ŒãŸä½“é¨“: ' + values.q1 + '\n';
        if (values.q2) output += 'ã‚¤ãƒ©ã£ã¨ã—ãŸä½“é¨“: ' + values.q2 + '\n';
        if (values.q3) output += 'å¬‰ã—ã‹ã£ãŸä½“é¨“: ' + values.q3 + '\n';
        if (values.q4) output += 'è¨±ã›ãªã‹ã£ãŸä½“é¨“: ' + values.q4 + '\n';
        if (values.q5) output += 'å¿ƒãŒå‹•ã„ãŸç¬é–“: ' + values.q5 + '\n';
        if (values.q6) {
          var q6 = typeof values.q6 === 'string' ? values.q6 : JSON.stringify(values.q6);
          output += 'ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠ: ' + q6 + '\n';
        }
        if (values.q7) output += 'å„ªå…ˆé †ä½: ' + values.q7 + '\n';
        if (values.q8) {
          var selected = values.q8.selected || values.q8;
          if (Array.isArray(selected)) output += 'é¸ã‚“ã ä¾¡å€¤è¦³: ' + selected.join(', ') + '\n';
          else output += 'é¸ã‚“ã ä¾¡å€¤è¦³: ' + selected + '\n';
        }
        if (values.q9) output += 'ä¾¡å€¤è¦³TOP5: ' + values.q9 + '\n';
        if (values.q10) output += 'ä¾¡å€¤è¦³ã®èª¬æ˜æ›¸: ' + values.q10 + '\n';
        if (values.summary) output += 'ä¾¡å€¤è¦³ã¾ã¨ã‚: ' + values.summary + '\n';
        output += '\n';
      }

      // æ‰èƒ½ãƒ¯ãƒ¼ã‚¯
      var talent = getStoredData('talent');
      if (talent) {
        hasAnyData = true;
        output += 'ã€æ‰èƒ½ãƒ¯ãƒ¼ã‚¯ã€‘\n';
        if (talent.q1) output += 'æ„Ÿè¬ã•ã‚ŒãŸä½“é¨“: ' + talent.q1 + '\n';
        if (talent.q2) output += 'è‡ªç„¶ã¨ã‚„ã£ã¦ã—ã¾ã†ã“ã¨: ' + talent.q2 + '\n';
        if (talent.q3) output += 'äººã«æ•™ãˆã‚‰ã‚Œã‚‹ã“ã¨: ' + talent.q3 + '\n';
        if (talent.q4) output += 'å¤¢ä¸­ã«ãªã‚Œã‚‹ã“ã¨: ' + talent.q4 + '\n';
        if (talent.q5) output += 'ä»–ã®äººã¨é•ã†ã¨ã“ã‚: ' + talent.q5 + '\n';
        if (talent.q6) output += 'æ‰èƒ½ã®ç¨®: ' + talent.q6 + '\n';
        if (talent.q7) {
          var talents = Array.isArray(talent.q7) ? talent.q7.join(', ') : talent.q7;
          output += 'é¸ã‚“ã æ‰èƒ½: ' + talents + '\n';
        }
        if (talent.q8) output += 'æ‰èƒ½ã®å„ªå…ˆé †ä½: ' + talent.q8 + '\n';
        if (talent.q9) output += 'æ‰èƒ½ã®èª¬æ˜æ›¸: ' + talent.q9 + '\n';
        output += '\n';
      }

      // æƒ…ç†±ãƒ¯ãƒ¼ã‚¯
      var passion = getStoredData('passion');
      if (passion) {
        hasAnyData = true;
        output += 'ã€æƒ…ç†±ãƒ¯ãƒ¼ã‚¯ã€‘\n';
        if (passion.q1) output += 'ã¤ã„è¦‹ã¦ã—ã¾ã†ã‚³ãƒ³ãƒ†ãƒ³ãƒ„: ' + passion.q1 + '\n';
        if (passion.q2) output += 'æ™‚é–“ã‚’å¿˜ã‚Œã‚‹è©±é¡Œ: ' + passion.q2 + '\n';
        if (passion.q3) output += 'ãŠé‡‘ã‚’ä½¿ã£ã¦ã‚‚æƒœã—ããªã„ã‚‚ã®: ' + passion.q3 + '\n';
        if (passion.q4) output += 'äººã«èªã‚ŠãŸããªã‚‹ã“ã¨: ' + passion.q4 + '\n';
        if (passion.q5) output += 'å­ã©ã‚‚ã®é ƒå¥½ãã ã£ãŸã“ã¨: ' + passion.q5 + '\n';
        if (passion.q6) output += 'æƒ…ç†±ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: ' + passion.q6 + '\n';
        if (passion.q7) {
          var yesCount = 0;
          for (var j = 0; j < passion.q7.length; j++) {
            if (passion.q7[j] === 'yes') yesCount++;
          }
          output += 'æƒ…ç†±ãƒã‚§ãƒƒã‚¯çµæœ: ' + yesCount + '/10 YES\n';
        }
        if (passion.q8) output += 'æƒ…ç†±ãƒ†ãƒ¼ãƒ: ' + passion.q8 + '\n';
        if (passion.q9) output += 'æƒ…ç†±ã®æ·±æ˜ã‚Š: ' + passion.q9 + '\n';
        if (passion.q10) output += 'æƒ…ç†±ãƒ©ãƒ³ã‚­ãƒ³ã‚°: ' + passion.q10 + '\n';
        if (passion.q11) output += 'æƒ…ç†±ã‚’ä¸€è¨€ã§: ' + passion.q11 + '\n';
        output += '\n';
      }

      // ä½¿å‘½ãƒ»åˆ¤æ–­è»¸ãƒ¯ãƒ¼ã‚¯
      var mission = getStoredData('mission');
      if (mission) {
        hasAnyData = true;
        output += 'ã€ä½¿å‘½ãƒ»åˆ¤æ–­è»¸ãƒ¯ãƒ¼ã‚¯ã€‘\n';
        if (mission.valley) {
          var valleys = Array.isArray(mission.valley) ? mission.valley : Object.values(mission.valley || {});
          var filteredValleys = [];
          for (var v = 0; v < valleys.length; v++) { if (valleys[v]) filteredValleys.push(valleys[v]); }
          if (filteredValleys.length) output += 'äººç”Ÿã®è°·: ' + filteredValleys.join(' / ') + '\n';
        }
        if (mission.mountain) {
          var mountains = Array.isArray(mission.mountain) ? mission.mountain : Object.values(mission.mountain || {});
          var filteredMountains = [];
          for (var m = 0; m < mountains.length; m++) { if (mountains[m]) filteredMountains.push(mountains[m]); }
          if (filteredMountains.length) output += 'äººç”Ÿã®å±±: ' + filteredMountains.join(' / ') + '\n';
        }
        if (mission.coreWords) output += 'è‡ªåˆ†ã‚‰ã—ã•ãƒ¯ãƒ¼ãƒ‰: ' + mission.coreWords + '\n';
        if (mission.lifePurpose) output += 'äººç”Ÿã®ç›®çš„: ' + mission.lifePurpose + '\n';
        if (mission.lifeMission) output += 'äººç”Ÿã®ä½¿å‘½: ' + mission.lifeMission + '\n';
        if (mission.lifeCompass) output += 'äººç”Ÿã®åˆ¤æ–­è»¸: ' + mission.lifeCompass + '\n';
        output += '\n';
      }

      // ãªã‚ŠãŸã„è‡ªåˆ†ãƒ¯ãƒ¼ã‚¯
      var become = getStoredData('become');
      if (become) {
        hasAnyData = true;
        output += 'ã€ãªã‚ŠãŸã„è‡ªåˆ†ãƒ¯ãƒ¼ã‚¯ã€‘\n';
        if (become.q1) output += '5å¹´å¾Œã®ç†æƒ³: ' + become.q1 + '\n';
        if (become.q2) output += '3å¹´å¾Œã®ç†æƒ³: ' + become.q2 + '\n';
        if (become.q3) output += '1å¹´å¾Œã®ç†æƒ³: ' + become.q3 + '\n';
        if (become.q4) output += 'åŠå¹´å¾Œã®ç†æƒ³: ' + become.q4 + '\n';
        if (become.q5) output += 'ç†æƒ³ã®1æ—¥: ' + become.q5 + '\n';
        if (become.q6) output += 'æœ€åˆã®ä¸€æ­©: ' + become.q6 + '\n';
        output += '\n';
      }

      // äººç”Ÿã®èª¬æ˜æ›¸ï¼ˆæ—¢ã«å…¥åŠ›æ¸ˆã¿ãªã‚‰è¡¨ç¤ºï¼‰
      var lifeManual = getStoredData('life-manual');
      if (lifeManual) {
        hasAnyData = true;
        output += 'ã€äººç”Ÿã®èª¬æ˜æ›¸ï¼ˆæ—¢å­˜ï¼‰ã€‘\n';
        for (var i = 1; i <= 13; i++) {
          if (lifeManual['item' + i]) {
            output += 'item' + i + ': ' + lifeManual['item' + i] + '\n';
          }
        }
        if (lifeManual.finalManual) {
          output += 'YOUã¨ã¯: ' + lifeManual.finalManual + '\n';
        }
        output += '\n';
      }

      output += '========================================\n';
      output += 'ä»¥ä¸ŠãŒè‡ªå·±ç†è§£ãƒ¯ãƒ¼ã‚¯ã®å…¨çµæœã§ã™ã€‚\n';
      output += 'ã“ã‚Œã‚’ã‚‚ã¨ã«ã€Œäººç”Ÿã®èª¬æ˜æ›¸ã€ã®13é …ç›®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åŸ‹ã‚ã¦ãã ã•ã„ã€‚\n';
      output += 'æœ€å¾Œã«ã€ŒYOUã¨ã¯ï¼Ÿã€ã®ã¾ã¨ã‚ã‚‚ä½œã£ã¦ãã ã•ã„ã€‚\n';
      output += '========================================\n';

      if (!hasAnyData) {
        showToast('ãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚å…ˆã«ãƒ¯ãƒ¼ã‚¯ã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚', 'error');
        return;
      }

      document.getElementById('outputText').textContent = output;
      document.getElementById('outputBox').classList.add('show');
      showToast('å…¥åŠ›å†…å®¹ã‚’å‡ºåŠ›ã—ã¾ã—ãŸï¼', 'success');
    }

    // å‡ºåŠ›ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼
    function copyOutput() {
      var text = document.getElementById('outputText').textContent;
      navigator.clipboard.writeText(text).then(function() {
        document.getElementById('copiedMsg').classList.add('show');
        showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼ãŠã•ã‚‹AIã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„', 'success');
      });
    }

    // ãƒ˜ãƒ«ãƒ‘ãƒ¼
    function getStoredData(key) {
      var stored = localStorage.getItem('selfUnderstanding_' + key);
      if (stored) {
        try { return JSON.parse(stored); }
        catch(e) { return null; }
      }
      return null;
    }

    function showToast(message, type) {
      var toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = 'toast ' + (type || 'success') + ' show';
      setTimeout(function() { toast.classList.remove('show'); }, 3000);
    }

    document.addEventListener('DOMContentLoaded', checkDataStatus);
  </script>
</body>
</html>
