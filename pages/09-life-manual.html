<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>äººç”Ÿã®èª¬æ˜æ›¸ | ãƒã‚¤ã‚³ãƒ³ãƒ‘</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .life-header {
      background: linear-gradient(135deg, #4caf50, #81c784);
      padding: var(--spacing-lg);
      border-radius: var(--radius-lg);
      text-align: center;
      color: var(--white);
      margin-bottom: var(--spacing-lg);
    }
    .life-header .emoji { font-size: 3rem; margin-bottom: var(--spacing-sm); }
    .prep-section {
      background: #fff3e0;
      padding: var(--spacing-md);
      border-radius: var(--radius-md);
      margin-bottom: var(--spacing-lg);
      border-left: 4px solid #ff9800;
    }
    .prep-section h3 { color: #e65100; margin-bottom: var(--spacing-sm); }
    .prep-section ol { padding-left: var(--spacing-md); }
    .prep-section li { margin-bottom: var(--spacing-sm); }
    .manual-item {
      background: var(--white);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      box-shadow: var(--shadow-sm);
      border-left: 4px solid var(--primary-green);
    }
    .manual-item h4 {
      color: #2e7d32;
      margin-bottom: var(--spacing-xs);
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }
    .manual-item .num {
      width: 28px; height: 28px;
      background: var(--primary-green);
      color: var(--white);
      border-radius: var(--radius-full);
      display: flex; align-items: center; justify-content: center;
      font-size: 0.85rem; font-weight: bold; flex-shrink: 0;
    }
    .manual-item p {
      font-size: 0.9rem;
      color: var(--text-light);
      margin-bottom: var(--spacing-sm);
    }
    .manual-item textarea { min-height: 100px; }
    .final-result {
      background: linear-gradient(135deg, #c8e6c9, #a5d6a7);
      padding: var(--spacing-lg);
      border-radius: var(--radius-lg);
      margin-top: var(--spacing-lg);
    }
    .final-result h3 {
      text-align: center;
      color: #2e7d32;
      margin-bottom: var(--spacing-md);
    }
    .final-result textarea {
      min-height: 300px;
      background: var(--white);
    }
  </style>
</head>
<body>
  <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

  <header class="page-header" style="background: linear-gradient(135deg, #4caf50, #81c784);">
    <h1><span class="icon">ğŸŒ±</span> ã‚ãªãŸã®äººç”Ÿã®èª¬æ˜æ›¸</h1>
  </header>

  <div class="container">
    <div class="video-section">
      <h3>ğŸ“º è§£èª¬å‹•ç”»</h3>
      <div class="video-embed">
        <iframe src="https://drive.google.com/file/d/1OcUi0au5ZOg5q8q5KdmBt5WwWlY991FR/preview" allow="autoplay" allowfullscreen></iframe>
      </div>
      <div class="video-fallback">
        <a href="https://drive.google.com/file/d/1OcUi0au5ZOg5q8q5KdmBt5WwWlY991FR/view" target="_blank">å‹•ç”»ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆã¯ã“ã¡ã‚‰</a>
      </div>
    </div>

    <div class="life-header">
      <div class="emoji">ğŸŒ±</div>
      <h2>ã™ã¹ã¦ã®ãƒ¯ãƒ¼ã‚¯ã‚’çµ±åˆã—ã¦<br>ã‚ãªãŸã ã‘ã®ã€Œäººç”Ÿã®èª¬æ˜æ›¸ã€ã‚’ä½œã‚ã†</h2>
    </div>

    <div class="prep-section">
      <h3>ğŸ“‹ äº‹å‰æº–å‚™</h3>
      <ol>
        <li><strong>ã€Œä¾¡å€¤è¦³ãƒ»æ‰èƒ½ãƒ»æƒ…ç†±ãƒ»ä½¿å‘½/åˆ¤æ–­è»¸ã€ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ¼ãƒˆ</strong>ã‚’ãã‚Œãã‚ŒPDFã‚„ã‚¹ã‚¯ã‚·ãƒ§ã§ä¿å­˜ã—ã¦ã€ã¾ã¨ã‚ã¦ãŠã•ã‚‹AIã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„</li>
        <li><strong>ãªã‚ŠãŸã„è‡ªåˆ†ãƒ¯ãƒ¼ã‚¯ã®ã€Œ5å¹´å¾Œã€œåŠå¹´å¾Œã®ç›®æ¨™ã¨ç†ç”±ã€</strong>ã®ãƒ‘ãƒ¼ãƒˆã‚’ãã‚Œãã‚ŒPDFã‚„ã‚¹ã‚¯ã‚·ãƒ§ã§ä¿å­˜ã—ã¦ã€ã¾ã¨ã‚ã¦ãŠã•ã‚‹AIã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„</li>
        <li>ã•ã‚‰ã«ã€è‡ªåˆ†ã®æ€è€ƒã®ã‚¯ã‚»ã‚„æ„æ€æ±ºå®šã®å‚¾å‘ã‚’çŸ¥ã‚‹ãŸã‚ã«ã€<strong>æ€§æ ¼è¨ºæ–­ï¼ˆã†ã•ããƒªã‚¹ãªã©ï¼‰ã®çµæœ</strong>ã‚‚ãŠã•ã‚‹AIã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„</li>
        <li><strong>ãŠã•ã‚‹AIã«ã€ä»¥ä¸‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã¾ã›ã¦ä½œæˆã—ã¦ã‚‚ã‚‰ã£ã¦ãã ã•ã„</strong></li>
      </ol>
    </div>

    <div class="section">
      <h2 class="section-title">13é …ç›®ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h2>
      <p style="margin-bottom: var(--spacing-md);">ä»¥ä¸‹ã®é …ç›®ã‚’åŸ‹ã‚ã¦ã„ãã‹ã€ãŠã•ã‚‹AIã«ä½œæˆã—ã¦ã‚‚ã‚‰ã„ã¾ã—ã‚‡ã†</p>

      <div class="manual-item">
        <h4><span class="num">1</span> ã‚ãŸã—ã®ç‰¹å¾´ãƒ»æ€§æ ¼</h4>
        <p>â†’ è‡ªåˆ†ã‚’ã²ã¨ã“ã¨ã§è¨€ã†ã¨ï¼Ÿã©ã†ã„ã†å ´é¢ã§åŠ›ã‚’ç™ºæ®ã™ã‚‹ï¼Ÿ</p>
        <textarea id="item1" placeholder="ä¾‹ï¼‰ç§ã¯ã€‡ã€‡ãªæ€§æ ¼ã§ã€ç‰¹ã«ã€‡ã€‡ãªå ´é¢ã§åŠ›ã‚’ç™ºæ®ã—ã¾ã™..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">2</span> ã‚ãŸã—ã®å¼·ã¿ãƒ»æ‰èƒ½ï¼ˆã€‡ã€‡ã™ã‚‹åŠ›ï¼‰</h4>
        <p>â†’ ç„¡æ„è­˜ã«ã‚„ã£ã¡ã‚ƒã†ã“ã¨ï¼ã€Œå¾—æ„ã€ã¨è¨€ã‚ã‚Œã‚‹ã‘ã©è‡ªè¦šãŒãªã„ã“ã¨ã¯ï¼Ÿ</p>
        <textarea id="item2" placeholder="ä¾‹ï¼‰ç§ã®å¼·ã¿ã¯ã€‡ã€‡ã™ã‚‹åŠ›ã§ã™..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">3</span> èª²é¡Œãƒ»ã¤ã¾ãšããƒã‚¤ãƒ³ãƒˆ</h4>
        <p>â†’ ã©ã‚“ãªæ™‚ã«è‡ªå·±å¦å®šã—ã‚„ã™ã„ï¼Ÿãƒ¢ãƒ¤ã‚‹ãƒã‚¤ãƒ³ãƒˆã¯ï¼Ÿ</p>
        <textarea id="item3" placeholder="ä¾‹ï¼‰ç§ã¯ã€‡ã€‡ãªæ™‚ã«è½ã¡è¾¼ã¿ã‚„ã™ã..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">4</span> ã‚„ã‚‹æ°—ãŒãªããªã‚‹ãƒˆãƒªã‚¬ãƒ¼ & å¾©æ´»ã‚¹ã‚¤ãƒƒãƒ</h4>
        <p>â†’ è‡ªåˆ†ãŒ"è½ã¡ãŸã‚µã‚¤ãƒ³"ã¨"æˆ»ã‚‹ã‚³ãƒ„"ã‚’çŸ¥ã£ã¦ãŠã“ã†ï¼</p>
        <textarea id="item4" placeholder="ä¾‹ï¼‰ã‚„ã‚‹æ°—ãŒä¸‹ãŒã‚‹ã®ã¯ã€‡ã€‡ãªæ™‚ã€‚å¾©æ´»ã™ã‚‹ã«ã¯ã€‡ã€‡ãŒåŠ¹æœçš„..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">5</span> å¤§åˆ‡ã«ã—ãŸã„ä¾¡å€¤è¦³TOP5</h4>
        <p>â†’ è‡ªåˆ†ã®ã€Œå¹¸ã›ã®æ¡ä»¶ã€ã‚„ã€Œäººç”Ÿã®åˆ¤æ–­åŸºæº–ã€</p>
        <textarea id="item5" placeholder="ä¾‹ï¼‰â‘ è‡ªç”± â‘¡æˆé•· â‘¢ã¤ãªãŒã‚Š â‘£è²¢çŒ® â‘¤æŒ‘æˆ¦..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">6</span> æƒ…ç†±ã‚’æ„Ÿã˜ã‚‹ãƒ†ãƒ¼ãƒãƒ»åˆ†é‡</h4>
        <p>â†’ ç¶šã‘ã¦ã‚‚è‹¦ã˜ã‚ƒãªã„ã“ã¨ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæ¹§ãã“ã¨ã¯ï¼Ÿ</p>
        <textarea id="item6" placeholder="ä¾‹ï¼‰ç§ãŒæƒ…ç†±ã‚’æ„Ÿã˜ã‚‹ã®ã¯ã€‡ã€‡ã®åˆ†é‡ã§ã™..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">7</span> è‡ªåˆ†ã«åˆã†åƒãæ–¹ãƒ»ç’°å¢ƒ</h4>
        <p>â†’ ãƒãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤æ´¾ï¼Ÿä¸€äººã§é›†ä¸­æ´¾ï¼Ÿé™ã‹ãªç©ºé–“ï¼Ÿãƒãƒ«ãƒï¼Ÿã‚·ãƒ³ã‚°ãƒ«ï¼Ÿ</p>
        <textarea id="item7" placeholder="ä¾‹ï¼‰ç§ã«åˆã†åƒãæ–¹ã¯ã€‡ã€‡ã§ã€ã€‡ã€‡ãªç’°å¢ƒã ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä¸ŠãŒã‚Šã¾ã™..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">8</span> ç›®æŒ‡ã—ãŸã„"ç”Ÿãæ–¹"</h4>
        <p>â†’ ã©ã‚“ãªæ¯æ—¥ãŒã€Œã‚ãŸã—ã‚‰ã—ã„ã€ã¨æ„Ÿã˜ã‚‹ï¼Ÿ</p>
        <textarea id="item8" placeholder="ä¾‹ï¼‰ç§ãŒç›®æŒ‡ã—ãŸã„ç”Ÿãæ–¹ã¯ã€‡ã€‡ã§ã™..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">9</span> ç™ºä¿¡ãƒ†ãƒ¼ãƒã«ã™ã‚‹ãªã‚‰ï¼Ÿ</h4>
        <p>â†’ ã€Œä¾¡å€¤è¦³Ã—æ‰èƒ½Ã—æƒ…ç†±ã€ã®ã‹ã‘ç®—ã‹ã‚‰æŠ½å‡ºï¼</p>
        <textarea id="item9" placeholder="ä¾‹ï¼‰ç§ã®ç™ºä¿¡ãƒ†ãƒ¼ãƒã¯ã€‡ã€‡Ã—ã€‡ã€‡ã§..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">10</span> èª°ã«å±Šã‘ãŸã„ï¼Ÿï¼ˆç†æƒ³ã®ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼åƒï¼‰</h4>
        <p>â†’ æ˜”ã®è‡ªåˆ†ï¼Ÿä»Šå›°ã£ã¦ã‚‹å‹é”ï¼Ÿç†æƒ³ã®æœªæ¥åƒã®äººï¼Ÿ</p>
        <textarea id="item10" placeholder="ä¾‹ï¼‰ç§ãŒå±Šã‘ãŸã„ã®ã¯ã€‡ã€‡ãªäººã§ã™..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">11</span> ãã®äººã¯ã©ã‚“ãªæ‚©ã¿ã‚’æŠ±ãˆã¦ã‚‹ï¼Ÿ</h4>
        <p>â†’ å…±æ„Ÿãƒã‚¤ãƒ³ãƒˆã‚’"æ„Ÿæƒ…"ã§æ›¸ã„ã¦ã¿ã‚ˆã†ï¼ˆä¸å®‰ãƒ»ç„¦ã‚Šãƒ»å­¤ç‹¬ãªã©ï¼‰</p>
        <textarea id="item11" placeholder="ä¾‹ï¼‰ãã®äººã¯ã€‡ã€‡ã§æ‚©ã‚“ã§ã„ã¦ã€ã€‡ã€‡ãªæ„Ÿæƒ…ã‚’æŠ±ãˆã¦ã„ã¾ã™..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">12</span> ã©ã‚“ãªä¾¡å€¤ãƒ»å¤‰åŒ–ã‚’å±Šã‘ã‚‰ã‚Œã‚‹ï¼Ÿ</h4>
        <p>â†’ è‡ªåˆ†ã ã‹ã‚‰ã“ãã§ãã‚‹ã‚µãƒãƒ¼ãƒˆã¨ã¯ï¼Ÿ</p>
        <textarea id="item12" placeholder="ä¾‹ï¼‰ç§ã ã‹ã‚‰ã“ãå±Šã‘ã‚‰ã‚Œã‚‹ä¾¡å€¤ã¯ã€‡ã€‡ã§ã™..."></textarea>
      </div>

      <div class="manual-item">
        <h4><span class="num">13</span> å•†å“ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã«ã™ã‚‹ãªã‚‰ï¼Ÿ</h4>
        <p>â†’ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã€è¬›åº§â€¦ã©ã‚“ãªã‚«ã‚¿ãƒãªã‚‰æä¾›ã§ããã†ï¼Ÿ</p>
        <textarea id="item13" placeholder="ä¾‹ï¼‰ç§ã®ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€‡ã€‡ã¨ã„ã†å½¢ã§æä¾›ã§ããã†ã§ã™..."></textarea>
      </div>
    </div>

    <div class="final-result">
      <h3>ï¼¼ã‚ãªãŸã®äººç”Ÿã®èª¬æ˜æ›¸ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘ã¾ã—ã‚‡ã†ï¼</h3>
      <p style="text-align: center; margin-bottom: var(--spacing-md);">ãŠã•ã‚‹AIã§ä½œæˆã—ãŸã€Œäººç”Ÿã®èª¬æ˜æ›¸ã€ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„</p>
      <textarea id="finalManual" placeholder="ãŠã•ã‚‹AIã§ä½œæˆã—ãŸäººç”Ÿã®èª¬æ˜æ›¸ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘..."></textarea>
    </div>

    <div style="background: var(--light-green); padding: var(--spacing-lg); border-radius: var(--radius-md); margin-top: var(--spacing-lg); text-align: center;">
      <p style="font-size: 1.2rem; color: #2e7d32; margin-bottom: var(--spacing-md);">
        <strong>ğŸ‰ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼</strong>
      </p>
      <p>ã“ã®ã€Œã‚ãŸã—ã®äººç”Ÿã®èª¬æ˜æ›¸ã€ã¯ã€<br>ã‚ãªãŸã®äººç”Ÿã®é¸æŠã«è¿·ã£ãŸã¨ãã€è‡ªåˆ†ã‚’ä¿¡ã˜ã¦é€²ã‚€ãŸã‚ã®<strong>"å¿ƒã®ã‚³ãƒ³ãƒ‘ã‚¹"</strong>ã«ãªã‚Šã¾ã™ğŸ§­</p>
      <p style="margin-top: var(--spacing-md);">å®šæœŸçš„ã«è¦‹è¿”ã™ã“ã¨ã§ã€"æˆé•·ã—ãŸè‡ªåˆ†"ã¨ã‚‚å†ä¼šã§ãã¾ã™ã€‚</p>
      <p style="margin-top: var(--spacing-md); font-size: 1.1rem;"><strong>å¤§ä¸ˆå¤«ã€‚ã‚ãªãŸã¯ã€ã‚ãªãŸã§ã„ã„ğŸŒ±</strong><br>ã‚ãªãŸã‚‰ã—ã„äººç”Ÿã‚’ã€å¿ƒã‹ã‚‰å¿œæ´ã—ã¦ã„ã¾ã™ï¼</p>
    </div>
  </div>

  <nav class="nav-bottom">
    <a href="08-become.html" class="btn btn-secondary">â† å‰ã¸</a>
    <a href="../index.html" class="btn btn-home">ç›®æ¬¡ã«æˆ»ã‚‹</a>
    <button class="btn btn-save" onclick="saveData()">ä¿å­˜ã™ã‚‹</button>
    <a href="10-ai-analysis.html" class="btn btn-primary">AIåˆ†æ â†’</a>
  </nav>
  <div class="toast" id="toast"></div>

  <!-- Lark APIé€£æº -->
  <script src="../js/lark-api.js"></script>
  <script src="../js/lark-config.js"></script>
  <script src="../js/data-sync.js"></script>
  <script src="../js/save-helper.js"></script>

  <script>
    function updateProgress() {
      const items = [];
      for (let i = 1; i <= 13; i++) items.push(`item${i}`);
      items.push('finalManual');

      let filled = 0;
      items.forEach(id => {
        const el = document.getElementById(id);
        if (el && el.value.trim()) filled++;
      });
      const progress = (filled / items.length) * 100;
      document.getElementById('progressBar').style.width = progress + '%';
    }

    function saveData() {
      const checkFields = [];
      for (let i = 1; i <= 13; i++) checkFields.push(`item${i}`);
      checkFields.push('finalManual');
      SaveHelper.save(checkFields, doSave);
    }

    async function doSave(isDraft) {
      const data = {};
      for (let i = 1; i <= 13; i++) {
        data[`item${i}`] = document.getElementById(`item${i}`).value;
      }
      data.finalManual = document.getElementById('finalManual').value;
      data.isDraft = isDraft;
      data.timestamp = new Date().toISOString();

      localStorage.setItem('selfUnderstanding_life-manual', JSON.stringify(data));

      // Lark BaseåŒæœŸ
      if (window.DataSync) {
        try {
          await window.DataSync.saveWorkData('life-manual', data);
        } catch (e) {
          console.error('Lark sync failed:', e);
        }
      }

      showToast(isDraft ? 'ä¸€æ™‚ä¿å­˜ã—ã¾ã—ãŸï¼' : 'ä¿å­˜ã—ã¾ã—ãŸï¼', 'success');
    }

    function loadData() {
      const saved = localStorage.getItem('selfUnderstanding_life-manual');
      if (saved) {
        const data = JSON.parse(saved);
        for (let i = 1; i <= 13; i++) {
          const el = document.getElementById(`item${i}`);
          if (el && data[`item${i}`]) el.value = data[`item${i}`];
        }
        if (data.finalManual) {
          document.getElementById('finalManual').value = data.finalManual;
        }
        updateProgress();
      }
    }

    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = 'toast ' + type + ' show';
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    document.querySelectorAll('textarea').forEach(el => {
      el.addEventListener('input', updateProgress);
    });

    document.addEventListener('DOMContentLoaded', loadData);
  </script>
</body>
</html>
